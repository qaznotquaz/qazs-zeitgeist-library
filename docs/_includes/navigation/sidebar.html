{% assign setting=site.data.characters[page.skin].setting %}
{% assign this-skin=site.data.characters[page.skin] %}
{% assign entries=site.data.volumes[page.volume].entries %}

{% for entry in entries %}
    {% if page.id==entry %}
        {% unless forloop.first %}
            {% assign pind=forloop.index0 | minus: 1 %}
            {% assign ppage=site.volumes | where: "id", entries[pind] | first %}
            {% assign plink='' | append: site.baseurl | append: ppage.url %}
            {% assign ptxt='ᐃ' %}
        {% endunless %}

        {% unless forloop.last %}
            {% assign nind=forloop.index0 | plus: 1 %}
            {% assign npage=site.volumes | where: "id", entries[nind] | first %}
            {% assign nlink='' | append: site.baseurl | append: npage.url %}
            {% assign ntxt='ᐁ' %}
        {% endunless %}
    {% endif %}

    {% assign pid=page.id %}
    {% assign ent=entry %}
{% endfor %}

<div id="sidebar" class="collapsible-hover">
    <ul>
        <li id="home">
            <a>☰</a>
        </li>
        <li style="background: {{ this-skin.bg-2 }};
                        border-color: {{ this-skin.acc-1 }};
                        color: {{ this-skin.text-color }}">
            <a href="{{ plink }}">{{ pid }}</a>
        </li>
        <li style="background: {{ this-skin.bg-2 }};
                        border-color: {{ this-skin.acc-1 }};
                        color: {{ this-skin.text-color }}">
            <a href="{{ nlink }}">{{ ent }}</a>
        </li>
    </ul>
</div>